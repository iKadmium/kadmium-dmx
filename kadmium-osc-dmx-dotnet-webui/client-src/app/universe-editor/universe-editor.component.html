<h2>Universe Options</h2>
<div class="column">
    <mat-form-field>
        <input required matInput [(ngModel)]="universe.name" type="text" [name]="'universeName[' + i + ']'" placeholder="Name" />
    </mat-form-field>
    <mat-form-field>
        <input required matInput [(ngModel)]="universe.universeID" type="number" min="1" max="65535" [name]="'universeID[' + i + ']'"
            placeholder="Universe ID" />
    </mat-form-field>
</div>
<h2>Fixtures</h2>
<mat-expansion-panel *ngFor="let fixture of universe.fixtures">
    <mat-expansion-panel-header>{{fixture.address}} {{fixture.type.manufacturer}} {{fixture.type.model}} {{fixture.group}}
    </mat-expansion-panel-header>

    <div class="column">
        <mat-form-field>
            <input required type="text" matInput [(ngModel)]="fixture.address" [name]="'address[' + getElementIndex(fixture) + ']'" placeholder="Address">
        </mat-form-field>

        <mat-form-field>
            <mat-select required [(value)]="fixture.type" [compareWith]="skeletonCompareFn" placeholder="Model">
                <mat-option *ngFor="let skeleton of fixtureDefinitionSkeletons" [value]="skeleton">{{skeleton.manufacturer}} {{skeleton.model}}</mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field>
            <mat-select required [(value)]="fixture.group" placeholder="Group">
                <mat-option *ngFor="let group of groups" [value]="group.name">{{group.name}}</mat-option>
            </mat-select>
        </mat-form-field>
    </div>

    <mat-action-row>
        <button mat-icon-button (click)="options(fixture)">
            <mat-icon aria-label="Settings">settings</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="removeElement(fixture)">
            <mat-icon aria-label="Remove">remove_circle</mat-icon>
        </button>
    </mat-action-row>
</mat-expansion-panel>
<button mat-icon-button (click)="addElement()" matTooltip="Add Fixture">
    <mat-icon aria-label="Add Fixture">add</mat-icon>
</button>
<button mat-icon-button [disabled]="selectedFixtures.length == 0" (click)="savePresetAs(filename)" matTooltip="Save Preset">
    <mat-icon aria-label="Save Preset">cloud_download</mat-icon>
</button>
<button mat-icon-button (click)="upload(fileInput)" matTooltip="Load Preset">
    <mat-icon aria-label="Load Preset">cloud_upload</mat-icon>
</button>


<input #fileInput type="file" name="name" style="display: none;" (change)="uploadFiles($event.target.files)" multiple>
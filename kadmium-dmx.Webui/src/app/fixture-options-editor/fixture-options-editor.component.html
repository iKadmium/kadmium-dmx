<div class="mat-typography">
    <form [formGroup]="form">
        <h1 mat-dialog-title>{{definition?.skeleton.manufacturer}} {{definition?.skeleton.model}}</h1>
        <div mat-dialog-content *ngIf="!loading" style="padding-bottom: 1em">
            <h3>General Options</h3>

            <div class="column">
                <mat-form-field>
                    <input matInput required type="number" min="0" max="1" step="0.01" formControlName="maxBrightness" placeholder="Max Brightness"
                    />
                </mat-form-field>
            </div>

            <div *ngIf="moving" formGroupName="axisOptions">
                <mat-divider></mat-divider>

                <h3>Axis Options</h3>
                <div *ngFor="let axis of definition.movements; let last = last" [formGroupName]="axis.name">
                    <h4>{{axis.name}}</h4>
                    <div class="column">
                        <mat-checkbox formControlName="inverted">Inverted</mat-checkbox>
                        <div class="column" formGroupName="restrictions">
                            <mat-form-field>
                                <input matInput type="number" formControlName="min" [min]="axis.min" [max]="axis.max" placeholder="Min (degrees)">
                            </mat-form-field>
                            <mat-form-field>
                                <input matInput type="number" formControlName="max" [min]="axis.min" [max]="axis.max" placeholder="Max (degrees)" />
                            </mat-form-field>
                        </div>
                        <mat-divider *ngIf="!last"></mat-divider>
                    </div>
                </div>
            </div>

        </div>
        <div mat-dialog-actions>
            <button mat-button (click)="ok()" [disabled]="form.invalid" tabindex="2">OK</button>
            <button mat-button (click)="cancel()" tabindex="-1">Cancel</button>
        </div>
    </form>
</div>